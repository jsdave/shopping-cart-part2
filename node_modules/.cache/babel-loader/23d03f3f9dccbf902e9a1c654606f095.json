{"ast":null,"code":"import _objectSpread from \"/Users/david/Documents/mycode/react/shopping-cart/shopping-cart/shopping-cart/shopping-cart/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\n\n// add a couple of helper functions\n// dump out all the items except for our current item back into the new array. \n// Go over all the items in the cart; return all the cart items that don't match the current item we are trying to add.id. \nconst cartWithoutItem = (cart, item) => cart.filter(cartItem => cartItem.id !== item.id); // Need item in cart helper function; return all the cart items that match the current item we are trying to add.id. One item, don't want the array. \n\n\nconst itemInCart = (cart, item) => cart.filter(cartItem => cartItem.id === item.id)[0];\n\nconst addToCart = (cart, item) => {\n  const cartItem = itemInCart(cart, item);\n  return cartItem === undefined // not in our cart\n  // all items in cart except current item we are trying to add; spread out the item; set its quantity to 1 because it did not already exist in our cart. \n  ? [...cartWithoutItem(cart, item), _objectSpread({}, item, {\n    quantity: 1\n  })] // all items in cart except current item we are trying to add; spread out the cart item cause we found it; set quantity to cartItem.quantity plus 1 because we are adding another one of these into our cart. \n  : [...cartWithoutItem(cart, item), _objectSpread({}, cartItem, {\n    quantity: cartItem.quantity + 1\n  })];\n}; // helper function for REMOVE case. Takes a cart and an item. \n\n\nconst removeFromCart = (cart, item) => {\n  return item.quantity === 1 // if item.quantity is equal to 1\n  // we are trying to remove completely since there is 1 left in the cart.\n  ? [...cartWithoutItem(cart, item)] // item.quantity is which is the current quantity -1 to remove one of those items from the cart. \n  : [...cartWithoutItem(cart, item), _objectSpread({}, item, {\n    quantity: item.quantity - 1\n  })];\n}; // an arrow function\n// first argument is always state.\n// we want it to be an array; empty array as a default.\n\n\nconst cartReducer = (state = [], action) => {\n  switch (action.type) {\n    // case for add; use inmutable JavaScript spread operator to take what we already had in the state.\n    // 1. take 7 items out of the original state array and dump them one by one into this new array. \n    // 2. action.payload takes item we are adding to the cart and adds it ot the end.   \n    // 3. returns a brand new array, that's going to have all the values of the old array(state) plus the new value that we are adding in from payload. Action.payload is the item we are trying to add. \n    case 'ADD':\n      return addToCart(state, action.payload);\n    // Case for Remove; const for the firstMatchIndex, just return the first index we want to remove. If more than one of these \"action.payload\" in our current cart will grab first one and return the index of that item. \n    // Description of return; will filter out the first item and give us the remaining items. Give us all of the items except for our first match. \n    // Will find the first item we are trying to remove and get its index. Then return all of the items inside of our state except the one that matches that first index. \n    // case 'REMOVE':\n    //     const firstMatchIndex = state.indexOf(action.payload)\n    //     return state.filter((item, index) => index !== firstMatchIndex);\n    // part 2 min 11\n    // action.payload is item we are trying to remove\n\n    case 'REMOVE':\n      return removeFromCart(state, action.payload);\n    // then create helper function const removeFromCart.\n\n    default:\n      // have a default state that returns the current state.\n      return state;\n  }\n};\n\nexport default cartReducer;","map":{"version":3,"sources":["/Users/david/Documents/mycode/react/shopping-cart/shopping-cart/shopping-cart/shopping-cart/src/features/cart/reducer.js"],"names":["cartWithoutItem","cart","item","filter","cartItem","id","itemInCart","addToCart","undefined","quantity","removeFromCart","cartReducer","state","action","type","payload"],"mappings":";;AAAA;AACA;AAEA;AAEA,MAAMA,eAAe,GAAG,CAACC,IAAD,EAAOC,IAAP,KAAgBD,IAAI,CAACE,MAAL,CAAYC,QAAQ,IAAIA,QAAQ,CAACC,EAAT,KAAgBH,IAAI,CAACG,EAA7C,CAAxC,C,CAEA;;;AAEA,MAAMC,UAAU,GAAG,CAACL,IAAD,EAAOC,IAAP,KAAgBD,IAAI,CAACE,MAAL,CAAYC,QAAQ,IAAIA,QAAQ,CAACC,EAAT,KAAgBH,IAAI,CAACG,EAA7C,EAAiD,CAAjD,CAAnC;;AAIA,MAAME,SAAS,GAAG,CAACN,IAAD,EAAOC,IAAP,KAAgB;AAC9B,QAAME,QAAQ,GAAGE,UAAU,CAACL,IAAD,EAAOC,IAAP,CAA3B;AACA,SAAOE,QAAQ,KAAKI,SAAb,CAAuB;AAC1B;AADG,IAED,CAAC,GAAGR,eAAe,CAACC,IAAD,EAAOC,IAAP,CAAnB,oBAAsCA,IAAtC;AAA4CO,IAAAA,QAAQ,EAAE;AAAtD,KAFC,CAGH;AAHG,IAID,CAAC,GAAGT,eAAe,CAACC,IAAD,EAAOC,IAAP,CAAnB,oBAAsCE,QAAtC;AAAgDK,IAAAA,QAAQ,EAAEL,QAAQ,CAACK,QAAT,GAAoB;AAA9E,KAJN;AAKH,CAPD,C,CASA;;;AACA,MAAMC,cAAc,GAAG,CAACT,IAAD,EAAOC,IAAP,KAAgB;AACnC,SAAOA,IAAI,CAACO,QAAL,KAAkB,CAAlB,CAAoB;AACvB;AADG,IAED,CAAC,GAAGT,eAAe,CAACC,IAAD,EAAOC,IAAP,CAAnB,CAFC,CAGH;AAHG,IAID,CAAC,GAAGF,eAAe,CAACC,IAAD,EAAOC,IAAP,CAAnB,oBAAsCA,IAAtC;AAA4CO,IAAAA,QAAQ,EAAEP,IAAI,CAACO,QAAL,GAAgB;AAAtE,KAJN;AAKH,CAND,C,CAQA;AACA;AACA;;;AAEA,MAAME,WAAW,GAAG,CAACC,KAAK,GAAG,EAAT,EAAaC,MAAb,KAAwB;AACxC,UAAQA,MAAM,CAACC,IAAf;AACI;AACA;AACA;AACA;AAEA,SAAK,KAAL;AACI,aAAOP,SAAS,CAACK,KAAD,EAAQC,MAAM,CAACE,OAAf,CAAhB;AAEJ;AAEA;AAEA;AACA;AACA;AACA;AAEA;AAEA;;AAEA,SAAK,QAAL;AACI,aAAOL,cAAc,CAACE,KAAD,EAAQC,MAAM,CAACE,OAAf,CAArB;AAA6C;;AAEjD;AAAS;AACL,aAAOH,KAAP;AA1BR;AA4BH,CA7BD;;AA+BA,eAAeD,WAAf","sourcesContent":["// add a couple of helper functions\n// dump out all the items except for our current item back into the new array. \n\n// Go over all the items in the cart; return all the cart items that don't match the current item we are trying to add.id. \n\nconst cartWithoutItem = (cart, item) => cart.filter(cartItem => cartItem.id !== item.id);\n\n// Need item in cart helper function; return all the cart items that match the current item we are trying to add.id. One item, don't want the array. \n\nconst itemInCart = (cart, item) => cart.filter(cartItem => cartItem.id === item.id)[0];\n\n\n\nconst addToCart = (cart, item) => {\n    const cartItem = itemInCart(cart, item)\n    return cartItem === undefined // not in our cart\n        // all items in cart except current item we are trying to add; spread out the item; set its quantity to 1 because it did not already exist in our cart. \n        ? [...cartWithoutItem(cart, item), { ...item, quantity: 1 }]\n        // all items in cart except current item we are trying to add; spread out the cart item cause we found it; set quantity to cartItem.quantity plus 1 because we are adding another one of these into our cart. \n        : [...cartWithoutItem(cart, item), { ...cartItem, quantity: cartItem.quantity + 1 }]\n}\n\n// helper function for REMOVE case. Takes a cart and an item. \nconst removeFromCart = (cart, item) => {\n    return item.quantity === 1 // if item.quantity is equal to 1\n        // we are trying to remove completely since there is 1 left in the cart.\n        ? [...cartWithoutItem(cart, item)]\n        // item.quantity is which is the current quantity -1 to remove one of those items from the cart. \n        : [...cartWithoutItem(cart, item), { ...item, quantity: item.quantity - 1 }]\n}\n\n// an arrow function\n// first argument is always state.\n// we want it to be an array; empty array as a default.\n\nconst cartReducer = (state = [], action) => {\n    switch (action.type) {\n        // case for add; use inmutable JavaScript spread operator to take what we already had in the state.\n        // 1. take 7 items out of the original state array and dump them one by one into this new array. \n        // 2. action.payload takes item we are adding to the cart and adds it ot the end.   \n        // 3. returns a brand new array, that's going to have all the values of the old array(state) plus the new value that we are adding in from payload. Action.payload is the item we are trying to add. \n\n        case 'ADD':\n            return addToCart(state, action.payload);\n\n        // Case for Remove; const for the firstMatchIndex, just return the first index we want to remove. If more than one of these \"action.payload\" in our current cart will grab first one and return the index of that item. \n\n        // Description of return; will filter out the first item and give us the remaining items. Give us all of the items except for our first match. \n\n        // Will find the first item we are trying to remove and get its index. Then return all of the items inside of our state except the one that matches that first index. \n        // case 'REMOVE':\n        //     const firstMatchIndex = state.indexOf(action.payload)\n        //     return state.filter((item, index) => index !== firstMatchIndex);\n\n        // part 2 min 11\n\n        // action.payload is item we are trying to remove\n\n        case 'REMOVE':\n            return removeFromCart(state, action.payload) // then create helper function const removeFromCart.\n\n        default: // have a default state that returns the current state.\n            return state;\n    }\n}\n\nexport default cartReducer; "]},"metadata":{},"sourceType":"module"}